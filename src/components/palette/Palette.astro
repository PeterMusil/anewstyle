---
import { useTranslations, type Lang } from "../../i18n/utils";

interface Props {
  lang?: Lang;
}

const { lang = "cs" } = Astro.props;
const t = useTranslations(lang);
---

<button class="palette" type="button" aria-label={t("features.showColors")}>
  <span>{t("features.showColors")}</span>
  <div class="palette__color" data-text="150M"></div>
  <div class="palette__color" data-text="140M"></div>
  <div class="palette__color" data-text="260M"></div>
  <div class="palette__color" data-text="280M"></div>
</button>

<script>
  const palette = document.querySelector(".palette") as HTMLButtonElement;

  const handleClickOutside = (event: MouseEvent) => {
    if (!palette.contains(event.target as Node)) {
      palette.classList.remove("palette--active");
    }
  };

  palette.addEventListener("click", () => {
    palette.classList.toggle("palette--active");
  });

  document.addEventListener("click", handleClickOutside);
</script>
