---
import NavItem from "./NavItem.astro";
import LangSwitch from "../langSwitch/LangSwitch.astro";
---

<nav>
  <div class="nav__container">
    <a href="/" class="logo" rel="noopener">
      <img src="./images/logos/logo.svg" alt="Anew Style Logo" height="96" />
    </a>
    <ul class="menu">
      <NavItem href="#about" text="nav_light" icon="bulp" />
      <NavItem href="#products" text="nav_products" icon="ar" iconClass="icon-nav" />
      <NavItem href="#features" text="nav_features" />
      <NavItem href="#showroom" text="nav_gallery" />
      <NavItem href="#contact" text="nav_contact" />
      <LangSwitch />
    </ul>
    <button aria-label="MobilnÃ­ menu" class="burger" id="menuBtn">
      <svg class="icon icon-menu">
        <use xlink:href="#icon-menu"></use>
      </svg>
    </button>
  </div>
</nav>

<script>
  const menu = document.querySelector(".menu") as HTMLUListElement;
  const burger = document.querySelector("#menuBtn") as HTMLButtonElement;
  const body = document.body as HTMLBodyElement;
  const navItems = document.querySelectorAll(".menu > li > a") as NodeListOf<HTMLAnchorElement>;

  burger &&
    menu &&
    burger.addEventListener("click", () => {
      menu.classList.toggle("menu--open");
      body.classList.toggle("overflow-hidden");
    });

  menu &&
    navItems.forEach((item) => {
      item.addEventListener("click", () => {
        menu.classList.remove("menu--open");
        body.classList.remove("overflow-hidden");
      });
    });
</script>
